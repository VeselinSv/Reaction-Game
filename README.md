# Реакционна Игра с Arduino, Node.js и Web интерфейс

## Описание на проекта

Това е интерактивна реакционна игра, реализирана чрез комбинация от Arduino хардуер и уеб приложение. Играта измерва времето за реакция на играча и показва резултатите в реално време както на физически LED индикатори, така и в уеб браузър.

---

## Как работи играта?

1. **Старт на играта**  
   Потребителят натиска бутон "Нова игра" в уеб интерфейса. Това изпраща команда към Arduino да започне нова игра.

2. **Подготовка**  
   Arduino контролира физически светлини — червен светодиод, който мига няколко пъти, сигнализирайки да се подготвите.

3. **Старт на реакцията**  
   След произволно забавяне Arduino включва зелен светодиод, който е сигнал за натискане на бутона. Играчът трябва да реагира възможно най-бързо.

4. **Измерване на реакцията**  
   Играчът натиска виртуалния бутон "Натисни!" в браузъра (или физически бутон, ако се използва такъв), а Arduino измерва времето от светването на зеления LED до натискането.

5. **Показване на резултата**  
   Времето за реакция се изпраща обратно към сървъра и се показва на уеб страницата. Най-доброто време се съхранява в localStorage и се визуализира.

6. **Грешки при ранно натискане**  
   Ако бутонът бъде натиснат преди зеления LED, играчът получава съобщение за „твърде рано“ и се налага кратко изчакване.

---

## Технологии и компоненти

- **Arduino**  
  Използва се Arduino платка, свързана с червен и зелен LED и физически бутон (по избор). Arduino контролира светлините и измерва време за реакция.

- **Node.js с Express и Socket.IO**  
  Сървърът управлява комуникацията между Arduino и уеб клиента.  
  - Express служи за обслужване на статични файлове и API заявки.  
  - Socket.IO осигурява реалновременна комуникация между сървъра и браузъра.

- **SerialPort**  
  Модул за Node.js, който управлява сериен порт, свързан с Arduino.

- **Уеб интерфейс**  
  HTML, CSS и JavaScript, които показват резултатите, състоянието на играта и LED индикации.

---

## Структура на кода

### Сервер (Node.js)

- Инициализира сериен порт към Arduino (например COM3, 9600 baud).
- Слуша и обработва команди от уеб клиента:
  - `/new-game` – стартира нова игра, изпраща "NEW_GAME" към Arduino.
  - `/button-press` – изпраща "BUTTON_PRESSED" към Arduino при натискане на бутона.
- Получава данни от Arduino и ги предава на уеб клиента през WebSocket (Socket.IO).
- Управлява флаг `gameInProgress`, за да не се стартира игра, докато друга е активна.
- Обработва грешки и затваря порта при изключване.

### Уеб клиент (HTML + JS)

- Два бутона: "Нова игра" и "Натисни!".
- LED индикатори за визуализация на червен и зелен светодиод.
- Съобщения за статуса на играта и резултатите.
- Използва Socket.IO за получаване на съобщения от сървъра.
- Управлява локално съхранение (`localStorage`) за най-добро време.
- Поддържа клавишни събития (Space за реакция, Enter за нова игра).
- Анимации за светодиодите и статуса.

---

## Как да стартираш проекта

### Необходими компоненти:

- Arduino платка (например Arduino Uno или Nano)
- Червен и зелен светодиод
- Физически бутон (по избор)
- Свързващи кабели
- Компютър с Node.js

### Стъпки:

1. Свържи Arduino към компютъра.
2. Качи подходящия Arduino скеч, който приема команди `NEW_GAME` и `BUTTON_PRESSED` по сериен порт, управлява LED и измерва време за реакция.
3. Клонирай или свали този проект.
4. Инсталирай зависимостите с командата:  
5. Промени сериен порт в `server.js` (или main file), ако е необходимо (`COM3` -> твоя порт).
6. Стартирай сървъра с:  
7. Отвори браузър и посети `http://localhost:3000`.
8. Натисни "Нова игра" и играй!

---

## Възможни подобрения

- Добавяне на физически бутон за реакция, свързан към Arduino.
- Добавяне на различни нива на трудност (по-бързи/по-бавни светлини).
- Добавяне на звукови ефекти в браузъра.
- Запазване на резултатите в база данни.
- Поддръжка на много играчи.

---

## Контакти и благодарности

Проектът е създаден като учебен пример за интеграция на Arduino и уеб технологии.

Ако имаш въпроси, питай!

---

*Успех и бързи реакции! ⚡*

